<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>기하 문제 관리 시스템</title>

    <!-- 스타일시트 -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- MathJax 설정 -->
    <script>
        window.MathJax = {
            tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']],
                displayMath: [['$$', '$$'], ['\\[', '\\]']],
                processEscapes: true,
                processEnvironments: true,
                tags: 'ams',
                macros: {
                    numbering: '',
                    mybreak: '{, }',
                }
            },
            options: {
                skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
                ignoreHtmlClass: 'tex2jax_ignore',
                processHtmlClass: 'tex2jax_process'
            },
            startup: {
                pageReady: () => {
                    return MathJax.startup.defaultPageReady().then(() => {
                        console.log('MathJax initial typesetting complete');
                    });
                }
            }
        };
    </script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>
<body>
    <!-- Mobile Menu Toggle Button -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="메뉴 열기">
        <svg viewBox="0 0 24 24">
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
        </svg>
    </button>

    <!-- Mobile Overlay -->
    <div class="mobile-overlay" id="mobileOverlay"></div>

    <!-- Floating Navigation -->
    <div class="floating-nav">
        <a href="https://www.mathtrauma.com" target="_blank" rel="noopener noreferrer">
            <svg fill="currentColor" viewBox="0 0 20 20">
                <path d="M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"/>
            </svg>
            mathtrauma.com
        </a>
    </div>

    <div class="container">
        <!-- 왼쪽 사이드바 -->
        <div class="sidebar">
            <div class="sidebar-header">
                <h1>기하 문제 관리</h1>
                <div class="stats" id="stats">
                    로딩 중...
                </div>
            </div>

            <div class="search-box">
                <input type="text" id="searchInput" placeholder="문제 검색...">
            </div>

            <div class="problem-list" id="problemList">
                <div class="loading">문제 목록 로딩 중...</div>
            </div>
        </div>

        <!-- 오른쪽 메인 영역 -->
        <div class="main">
            <div class="main-header">
                <h2 id="currentProblemTitle">문제를 선택하세요</h2>
                <div class="tabs">
                    <button class="tab active" data-tab="view">문제 보기</button>
                </div>
            </div>

            <div class="content-area">
                <!-- 문제 보기 탭 -->
                <div class="tab-content active" id="tab-view">
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
                        </svg>
                        <p>왼쪽 목록에서 문제를 선택하세요</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast notification -->
    <div class="toast" id="toast"></div>

    <!-- JavaScript 모듈 (순서 중요) -->
    <script src="js/app.js"></script>
    <script src="js/utils.js"></script>
    <script src="js/display.js"></script>
    <script src="js/data.js"></script>
    <script src="js/render.js"></script>
</body>
</html>
